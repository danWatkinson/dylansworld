services:
  minecraft:
    build: .
    container_name: minecraft-server
    ports:
      - "25565:25565/tcp"   # Java Edition port
      - "19132:19132/udp"   # Bedrock Edition port
    env_file:
      - ../.env
    environment:
      - EULA=${EULA:-true}
      - MINECRAFT_VERSION=${MINECRAFT_VERSION:-latest}
      - PAPER_BUILD=${PAPER_BUILD:-latest}
      - GEYSER_VERSION=${GEYSER_VERSION:-latest}
      - MEMORY=${MEMORY:-2G}
    volumes:
      - ../runtime/data:/minecraft/world
      - ../runtime/plugins:/minecraft/plugins
      - ../runtime/logs:/minecraft/logs
      # Uncomment the line below if you want to persist server.properties
      # - ./server.properties:/minecraft/server.properties
    restart: unless-stopped
    stdin_open: true
    tty: true

